<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd">
<html><head>
<title>ModelMenu</title>

<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet"/>
<script crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<link href="/css/bootstrap.css" rel="stylesheet"/>
<link href="images/favicon.ico" rel="icon" type="image/x-icon"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
</head>
<body>
<nav class="navbar navbar-expand sticky-top navbar-light bg-light">
<a class="navbar-brand" href="/"><img src="/images/logo.svg"/>MultiBUGS</a>
<div class="collapse navbar" id="navbarSupportedContent">
<ul class="navbar-nav mr-auto">
<li class="nav-item">
<a class="nav-link" href="/">Home</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/about">About</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/download">Download</a>
</li>
<li class="nav-item active">
<a class="nav-link" href="/documentation/latest/">Documentation <span class="sr-only">(current)</span></a>
</li>
<li class="nav-item">
<a class="nav-link" href="/examples/latest/">Examples</a>
</li>
</ul>
</div>
</nav><div class="container-fluid"><div class="row main"><div class="col-md-3 col-lg-2 col-xl-3"><div class="sticky-top stickymenu" id="contents">
<button aria-controls="navbarContents" aria-expanded="false" aria-label="Toggle docs navigation" class="btn btn-link d-md-none ml-3 mr-3 mt-3 collapsed mb-toggler" data-target="#navbarContents" data-toggle="collapse" type="button">
<span class="mb-toggler-icon mr-1"></span>
    Contents
  </button>

<h5 class="d-none d-md-block">Contents</h5>
<div class="collapse mb-links" id="navbarContents">
<ul class="list-unstyled">
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#basics">Basics</a>
<ul class="collapse" id="basics">
<li><a href="/documentation/latest/Introduction.html">Introduction</a></li>
<li><a href="/documentation/latest/Tutorial.html">Tutorial</a></li>
<li><a href="/documentation/latest/CompoundDocuments.html">Compound documents</a></li>
<li><a href="/documentation/latest/Graphics.html">Graphics</a></li>
<li><a href="/documentation/latest/DoodleBUGS.html">DoodleBUGS</a></li>
<li><a href="/documentation/latest/Scripts.html">Scripts</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#language">BUGS language</a>
<ul class="collapse" id="language">
<li><a href="/documentation/latest/ModelSpecification.html">Model specification</a></li>
<li><a href="/documentation/latest/Distributions.html">Distributions</a></li>
<li><a href="/documentation/latest/Functions.html">Functions and functionals</a></li>
<li><a href="/documentation/latest/Tricks.html">Advanced uses</a></li>
<li><a href="/documentation/latest/TipsTroubleshooting.html">Tips and troubleshooting</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#menus">Menus</a>
<ul class="collapse show" id="menus">
<li><a href="/documentation/latest/FileMenu.html">File</a></li>
<li><a href="/documentation/latest/EditMenu.html">Edit</a></li>
<li><a href="/documentation/latest/AttributesMenu.html">Attributes</a></li>
<li><a href="/documentation/latest/ToolsMenu.html">Tools</a></li>
<li><a href="/documentation/latest/TextMenu.html">Text</a></li>
<li><a href="/documentation/latest/InfoMenu.html">Info</a></li>
<li>Model</li>
<li><a href="/documentation/latest/InferenceMenu.html">Inference</a></li>
<li><a href="/documentation/latest/DoodleMenu.html">Doodle</a></li>
<li><a href="/documentation/latest/MapMenu.html">Map</a></li>
<li><a href="/documentation/latest/ExamplesMenu.html">Examples</a></li>
<li><a href="/documentation/latest/ManualsMenu.html">Manuals</a></li>
<li><a href="/documentation/latest/HelpMenu.html">Help</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#geobugs">GeoBUGS</a>
<ul class="collapse" id="geobugs">
<li><a href="/documentation/latest/spatial/Manual.html">Introduction</a></li>
<li><a href="/documentation/latest/spatial/ImportExport.html">Importing/exporting maps</a></li>
<li><a href="/documentation/latest/spatial/AdjacencyMatrices.html">Adjacency matrices</a></li>
<li><a href="/documentation/latest/spatial/Maps.html">Creating maps</a></li>
<li><a href="/documentation/latest/spatial/SpatialDistributions.html">Spatial distributions</a></li>
<li><a href="/documentation/latest/spatial/TemporalDistributions.html">Temporal distributions</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#reliability">ReliaBUGS</a>
<ul class="collapse" id="reliability">
<li><a href="/documentation/latest/reliability/Contents.html">Introduction</a></li>
<li><a href="/documentation/latest/reliability/Analysis.html">Basics</a></li>
<li><a href="/documentation/latest/reliability/Distributions.html">Distributions</a></li>
<li><a href="/documentation/latest/reliability/Functions.html">Logical functions</a></li>
<li><a href="/documentation/latest/reliability/References.html">References</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#developer">Developer</a>
<ul class="collapse" id="developer">
<li><a href="/documentation/latest/developer/Manual.html">Contents</a></li>
<li><a href="/documentation/latest/developer/Tools.html">Setting up the development tools</a></li>
<li><a href="/documentation/latest/developer/Compiling.html">Compiling the Source Code</a></li>
<li><a href="/documentation/latest/developer/Initializing.html">Initializing OpenBUGS</a></li>
<li><a href="/documentation/latest/developer/WritingBUGSExtensions.html">Writing OpenBUGS extensions</a></li>
<li><a href="/documentation/latest/developer/SamplingAlgorithms.html">Sampling algorithms</a></li>
<li><a href="/documentation/latest/developer/BlueDiamonds.html">Blue diamonds</a></li>
<li><a href="/documentation/latest/developer/SoftDocu.html">Bugs subsystems</a></li>
<li><a href="/documentation/latest/developer/Distributing.html">Distributing OpenBUGS</a></li>
</ul>
</li>
<!--<li><a href="/documentation/latest/References.html">References</a>-->
</ul>
</div>
</div></div><div class="col-12 col-md-9 col-lg-7 col-xl-6">


<p>
<h4>Model Menu</h4><h5 id="GeneralProperties">General properties</h5>The commands in this menu either apply to the whole statistical model or open dialog boxes. <br/><br/><br/><h5 id="Specification">Specification...</h5><font color="#000100" face="Arial" size="2"><br/><br/>            <img alt="[modelmenu1]" src="modelmenu1.bmp"/><br/><br/></font><br/>This non-modal dialog box acts on the focus view (the window with its title bar highlighted).<br/><strong><em><br/>check model</em></strong>: If the focus view contains text,<em> OpenBUGS</em> assumes the model is specified in the<em> BUG</em>S language. The<em> check model</em> button parses the<em> BUG</em>S language description of the statistical model. If a syntax error is detected the cursor is placed where the error was found and a description of the error is given on the status line (lower left corner of screen). If no syntax errors are found, the message "model is syntactically correct" should appear in the status line. If text is highlighted, parsing starts from the first character highlighted <em>(</em>i.e. highlight the word <code>model</code>), otherwise parsing starts at the top of the window even if the cursor is currently in a different location..<br/><br/>If the focus view is a <em>Doodle</em> or contains a selected<em> Doodle (i.e.</em> the Doodle has been selected and is surrounded by a hairy border<em>), OpenBUG</em>S assumes the model has been specified graphically. If a syntax error is detected the node where the error was found is highlighted and a description of the error is given on the status line.<br/><strong><em><br/>load data:</em></strong> The<em> load dat</em>a button acts on the focus view; it will be grayed out unless the focus view contains text and a syntactically correct model has been checked.<br/><br/>Data can be identified in two ways:<br/><br/>1) if the data are in a separate document, the window containing that document needs to be the focus view when the<em> load dat</em>a command is used;<br/>2) if the data are specified as part of a document, the first character of the data (either the word <code>list</code> if in S-Plus format, or the first array name if in rectangular format) must be highlighted and the data will be read starting with the first highlighted character.<br/><br/>See <a href="/documentation/latest/ModelSpecification.html#FormattingOfData">Formatting of data</a>for details of how the data should be formatte<br/><br/>Any syntax errors or data inconsistencies are displayed in the status line. Corrections can be made to the data without returning to th<em>e check mode</em>l stage. When the data have been loaded successfully, "Data Loaded" should appear in the status line.<br/><br/>The<em> load dat</em>a button becomes active once a model has been successfully checked, and ceases to be active once the model has been successfully compiled.<br/><strong><em><br/>num of chains:</em></strong> The number of chains to be simulated can be entered into the text entry field next to the caption<em> num of chains</em>. This field can be typed in after the model has been checked and before the model has been compiled. By default, one chain is simulated.<br/><strong><em><br/>compile:</em></strong> The<em> compil</em>e button builds the data structures needed to carry out MCMC sampling. The model is checked for completeness and consistency with the data. Any inconsistencies or errors are displayed on the status line.<br/><br/>A node called 'deviance' is automatically created which calculates minus twice the log-likelihood at each iteration, up to a constant. This node can be used like any other node in the graphical model.<br/><br/>This command becomes active once the model has been successfully checked. When the model has been successfully compiled, the message "model compiled" should appear in the status line. <br/><strong><em><br/>load inits:</em></strong> The<em> load init</em>s button acts on the focus view; it will be grayed out unless the focus view contains text. The initial values will be loaded for the chain indicated in the text entry field to the right of the caption<em> for chai</em>n. The value of this text field can be edited to load initial values for any of the chains.<br/><br/>Initial values are specified in exactly the same way as data files. If some of the elements in an array are known (say because they are constraints in a parameterisation), those elements should be specified as missing (<code>NA</code>) in the initial values file.<br/><br/>This command becomes active once the model has been successfully compiled, and checks that initial values are in the form of an S-Plus object or rectangular array and that they are consistent with the model and any previously loaded data. Any syntax errors or inconsistencies in the initial value are displayed on the status line.<br/><br/>If, after loading the initial values, the model is fully initialized this will be reported by displaying the message"initial values loaded: model initialized". Otherwise the status line will show the message"initial values loaded but this or another chain contain uninitialized variables". The second message can have several meanings:<br/><br/>a) If only one chain is simulated it means that the chain contains some nodes that have not been initialized yet.<br/>b) If several chains are to be simulated it could mean that no initial values have been loaded for one of the chains.<br/><br/>In either case further initial values can be loaded, or the<em> gen init</em>s button can be pressed to generate initial values for<em> all</em> the uninitialized nodes in<em> all</em> the simulated chains. See the 'gen inits' section below for a description of how the values are generated.<br/><br/>Generally it is recommended to load initial values for all fixed effect nodes (founder nodes with no parents) for all chains, initial values for random effects can be generated using the<em> gen init</em>s button.<br/><br/>The<em> load init</em>s button can still be executed once the MCMC sampling has been started. It will have the effect of starting the sampler out on a new trajectory. A modal warning message will appear if the command is used in this context.<br/>      <strong><em><br/>gen inits:</em></strong> The<em> gen init</em>s button attempts to generate initial values by sampling either from the prior or from an approximation to the prior. In the case of discrete variables a check is made that a configuration of zero probability is not generated. This command can generate extreme values if any of the priors are very vague. If the command is successful the message <font color="#004080" face="Arial" size="3">"initial values generated: model initialized"</font> is displayed otherwise the message <font color="#004080" face="Arial" size="3">"could not generate initial values"</font> is displayed. If the fix founder box is checked instaed of generating initial values for founder nodes (nodes of topological depth one in the graphical model) the values of therse nodes is set to the mean of their prior.<br/><br/>The<em> gen init</em>s button becomes active once the model has been successfully compiled, and will cease to be active once the model has been initialized.<br/><br/>The <em>distribute</em> button will distribute the MCMC simulation over multiple processing cores where the number of cores is set in the <em>num cores</em> field. Note the number of cores used should be a multiple of the number of chains (if it is not it will be rounded down so that it is). If the number of cores is equal to the number of chains then each chain is simulated on a seperate core. If the number of cores is greater than the number of chains then each MCMC chain will be simulated using several cores. The distributed version of the software uses MPI for communication between cores and with the user interface. Microsoft MPI must be installed for the distribute option to work. When the number of cores used is equal to the number of MCMC chains the distributed and non distributed version of the simulation should produce indentical result<br/><br/><h5 id="Update">Update...</h5><br/><br/>            <img alt="[modelmenu2]" src="modelmenu2.bmp"/><br/><br/>This menu will become active after the model has been compiled and initialized. It has the following fields that accept user input:<strong><em><br/>updates</em></strong>:The number of MCMC samples to save. Thus, <em>update</em>s *<em> thin</em> MCMC updates will be carried ou<br/><br/><strong><em>refresh</em></strong>: The number of updates divided by<em> thin</em> between redrawing the screen.<br/><strong><em><br/>thin</em></strong>: The samples from everyk<sup>th</sup> iteration will be used for inference, wherek is the value of<em> thin</em>. Setting<em> k</em> &gt; 1 can help to reduce the autocorrelation in the sample, but there is no real advantage in thinning except to reduce storage requirement<br/><br/><strong><em>over relax</em></strong>: Click on this box (a tick will then appear) to select an over-relaxed form of MCMC (Neal, 1998) which will be executed where possible. This generates multiple samples at each iteration and then selects one that is negatively correlated with the current value. The time per iteration will be increased, but the within-chain correlations should be reduced and hence fewer iterations may be necessary. However, this method is not always effective and should be used with caution. The auto-correlation function may be used to check whether the mixing of the chain is improved.<br/>Click on the <strong><em>update button</em></strong> to start updating the model. Clicking onthe update buttonduring sampling will pause the simulation after the current block of iterations, as defined by<em> refres</em>h, has been completed; the number of updates required can then be changed if needed. Clicking on the update button again will restart the simulation. This button becomes active when the model has been successfully compiled and given initial values.<br/>The <strong><em>iteration</em></strong> field displays the total number of MCMC updates divided by <em>thin</em> that have been carried out.<span class="button"><br/></span>The <strong><em>adapting </em></strong>box will be ticked while the Metropolis or slice-sampling MCMC algorithm is in its initial tuning phase where some optimization parameters are tuned. The Metropolis and slice-sampling algorithms have adaptive phases of 4000 and 500 iterations respectively which will be discarded from all statistics. For details on how to change these default settings please see the <a href="#Updateroptions"></a><a href="#Updateroptions">Updater Options</a> section<font color="#0000FF" face="Arial" size="3">.<br/><br/></font>When there are multiple chains, a single update is generated for each chain and then the cycle is repeated for the requested number of updates. Random numbers are currently generated from a single random number sequence shared across the chains. When thin&gt;1, thinned updates are drawn from the first chain, then thinned updates are generated from the second chain, and so on. However if thin=1, and the monitored samples are thinned via <em>Inference &gt; Samples</em>, the output will be different, since we are then looping over chains within each iteration. <h5 id="Script">Script</h5>The Script menu item is used to execute "batch scripts" from the GUI-mode. If the focus-view contains a series of <em>OpenBUGS</em> batch-mode commands, then selecting the script menu item from the <em>Model</em> menu will cause the script to be executed. A subset of the script commands can be executed by highlighting them. Highlighting part of a batch command will likely produce an error. The script menu item allows batch mode execution to be mixed with GUI execution so batch scripts can be created incrementally and some repetitive tasks under the GUI (e.g., specifying variables to be monitored) can be automated during the model building/testing analysis phase. See <a href="/documentation/latest/Scripts.html">Scripts and Batch-mode</a><a href="/documentation/latest/Scripts.html"></a> for more details. <h5 id="IOoptions">Output options...</h5><br/>         <img alt="[modelmenu3]" src="modelmenu3.bmp"/><br/><br/><em>OpenBUGS</em> will either produce output in windows if the Output option is set to window, or produce output in the log window if the Output option is set to log.<br/><br/>The precision to which <em>OpenBUGS</em> displays output is controlled by the output precision field.<br/><br/><br/><h5 id="Compileoptions">Compile options...</h5><br/>         <br/>         <img alt="[modelmenu4]" src="modelmenu4.bmp"/><br/><br/><strong><em>updater by method</em></strong>: <em>OpenBUGS</em> chooses update algorithms for the model in a "by method" order if this box is checked, otherwise updaters are chosen by order of node name.<br/><br/><strong><em>trap on error</em></strong>: Causes <em>OpenBUGS</em> to display a "trap" window when an unidentified error occurs, instead of displaying a short message "Sorry, something went wrong..." in the status bar. Trap windows contain information intended to help programmers fix the source code of OpenBUGS. Therefore some experts may find them useful for identifying difficult errors, but most users will find them more confusing than the default message. <br/><br/><h5 id="Updateroptions">Updater options...</h5>Tabbed dialog box for controlling how <em>OpenBUGS</em> updates the model.<br/><br/>The <em>updaters</em> tab is used to influence which updater algorithms are used, while the <em>parameters</em> tab is used to adjust the default parameters of the chosen algorithms.<br/><br/>The updater (sampler) algorithms that OpenBUGS has available are displayed in the list box underneath "sampler". The radio button can be used to enable / disable the selected sampler. The radio buttons are only active before a model has been compiled. They control which algorithms <em>OpenBUGS</em> will consider using when the model is compiled. <br/><br/>Once the model has been compiled, it is possible to change the algorithm used for a node (or a block of nodes) by typing the name of the node (variable) in the text entry box underneath "change updater for", selecting a new updater algorithm from the list and clicking ok. You can see which updaters are being used for each node by clicking <em>Info &gt; Updaters (by name)</em> from the menu bar. The info menu can also be checked after a change is requested to confirm the change was made. There is more information on the resulting list in the <a href="/documentation/latest/InfoMenu.html#Updatersbyname">Info menu</a> manual page. To change the updater for a block of nodes (from Info&gt;Updaters (by name), enter the name of the first node in the block. A block updater for a block of nodes can only be changed to another block updater for the block of nodes.<br/><br/><br/>         <img alt="[modelmenu5]" src="modelmenu5.bmp"/><br/>         <br/>         <br/>The <em>parameters</em> tab of the dialog lists the actual updater algorithms used in sampling nodes in the compiled model. To change the default parameters of one of these updaters, select it from the list and then edit the appropriate fields. Clicking <em>set</em> will modify the sampling parameters for the duration of the current <em>OpenBUGS</em> session; the default parameters will be restored when <em>OpenBUGS</em> is restarted. Clicking <em>save</em> will make changes to the default parameters of the algorithm persistent across <em>OpenBUGS </em>sessions. Changes to the default parameters can only be made after a model has been compiled.<br/><br/><br/>         <br/>         <img alt="[modelmenu6]" src="modelmenu6.bmp"/><br/><br/><h5 id="Seed">Random number generator...</h5><font color="#000100" face="Arial" size="2">.</font><font color="#000100" face="Arial" size="2"><br/><br/>         <img alt="[modelmenu7]" src="modelmenu7.bmp"/><br/><br/></font>Opens a non-modal dialog box, which is available only after compilation is completed and before any updates have been performed. The state can be changed after initial values are generated but before updates have been performed, however, this is not recommended.<br/><br/>The internal state of the random number generator can be set to one of 14 predefined states using the up down arrows. Each predefined state is 10<font color="#000100" face="Arial" size="1"><sup>12</sup></font> draws apart to avoid overlap in random number sequences.<br/><br/><br/><h5 id="Externalize">Externalize...</h5>This option writes out all the internal data structures that OpenBUGS has created for a compiled model . It provides a way of "saving" the model for future use. The user is prompted to enter a filestem name in a dialog box and a file called 'filestem.bug' is created in a folder called "Restart" in the OpenBUGSxxx program folder. If there were no errors when saving the compiled model, the message "model externalized to file ok" is displayed in the status bar.<br/><br/>The output files can be very large; users should remove these files when they are no longer needed. Script commands (see <a href="/documentation/latest/Scripts.html">Scripts and Batch-mode</a><a href="/documentation/latest/Scripts.html"></a>) are a better method for creating re-producible results, especially if these results need to be sent to other users.<br/><br/><br/><h5 id="Internalize">Internalize...</h5>This option reads in all the internal data structures that OpenBUGS needs to re-create an executing model from a file created by Externalize. It provides a way of "restarting" the model for further use. This option will open a window containing a BUGS language description of the restarted model and all the tool dialogs will be restored to the state when the model was last executed. If there were no errors when internalizing the saved model, the message "model internalized from file ok" is displayed in the status bar.<br/>

</p>


</div><div class="d-none d-lg-block col-lg-3 col-xl-3" id="onthispage"><div class="sticky-top stickymenu"><h5>On this page</h5><ul><li><a href="#GeneralProperties">General properties</a></li><li><a href="#Specification">Specification...</a></li><li><a href="#Update">Update...</a></li><li><a href="#Script">Script</a></li><li><a href="#IOoptions">Output options...</a></li><li><a href="#Compileoptions">Compile options...</a></li><li><a href="#Updateroptions">Updater options...</a></li><li><a href="#Seed">Random number generator...</a></li><li><a href="#Externalize">Externalize...</a></li><li><a href="#Internalize">Internalize...</a></li></ul></div></div></div></div></body></html>