<!DOCTYPE html PUBLIC "-//W3C//DTD Html 1.0 Strict//EN" "http://www.w3.org/TR/Html1/DTD/strict.dtd">
<html><head>
<title>ImportExport</title>

<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet"/>
<script crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<link href="/css/bootstrap.css" rel="stylesheet"/>
<link href="images/favicon.ico" rel="icon" type="image/x-icon"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
</head>
<body>
<nav class="navbar navbar-expand sticky-top navbar-light bg-light">
<a class="navbar-brand" href="/"><img src="/images/logo.svg"/>MultiBUGS</a>
<div class="collapse navbar" id="navbarSupportedContent">
<ul class="navbar-nav mr-auto">
<li class="nav-item">
<a class="nav-link" href="/">Home</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/about">About</a>
</li>
<li class="nav-item">
<a class="nav-link" href="/download">Download</a>
</li>
<li class="nav-item active">
<a class="nav-link" href="/documentation/latest/">Documentation <span class="sr-only">(current)</span></a>
</li>
<li class="nav-item">
<a class="nav-link" href="/examples/latest/">Examples</a>
</li>
</ul>
</div>
</nav><div class="container-fluid"><div class="row main"><div class="col-md-3 col-lg-2 col-xl-3"><div class="sticky-top stickymenu" id="contents">
<button aria-controls="navbarContents" aria-expanded="false" aria-label="Toggle docs navigation" class="btn btn-link d-md-none ml-3 mr-3 mt-3 collapsed mb-toggler" data-target="#navbarContents" data-toggle="collapse" type="button">
<span class="mb-toggler-icon mr-1"></span>
    Contents
  </button>

<h5 class="d-none d-md-block">Contents</h5>
<div class="collapse mb-links" id="navbarContents">
<ul class="list-unstyled">
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#basics">Basics</a>
<ul class="collapse" id="basics">
<li><a href="/documentation/latest/Introduction.html">Introduction</a></li>
<li><a href="/documentation/latest/Tutorial.html">Tutorial</a></li>
<li><a href="/documentation/latest/CompoundDocuments.html">Compound documents</a></li>
<li><a href="/documentation/latest/Graphics.html">Graphics</a></li>
<li><a href="/documentation/latest/DoodleBUGS.html">DoodleBUGS</a></li>
<li><a href="/documentation/latest/Scripts.html">Scripts</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#language">BUGS language</a>
<ul class="collapse" id="language">
<li><a href="/documentation/latest/ModelSpecification.html">Model specification</a></li>
<li><a href="/documentation/latest/Distributions.html">Distributions</a></li>
<li><a href="/documentation/latest/Functions.html">Functions and functionals</a></li>
<li><a href="/documentation/latest/Tricks.html">Advanced uses</a></li>
<li><a href="/documentation/latest/TipsTroubleshooting.html">Tips and troubleshooting</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#menus">Menus</a>
<ul class="collapse" id="menus">
<li><a href="/documentation/latest/FileMenu.html">File</a></li>
<li><a href="/documentation/latest/EditMenu.html">Edit</a></li>
<li><a href="/documentation/latest/AttributesMenu.html">Attributes</a></li>
<li><a href="/documentation/latest/ToolsMenu.html">Tools</a></li>
<li><a href="/documentation/latest/TextMenu.html">Text</a></li>
<li><a href="/documentation/latest/InfoMenu.html">Info</a></li>
<li><a href="/documentation/latest/ModelMenu.html">Model</a></li>
<li><a href="/documentation/latest/InferenceMenu.html">Inference</a></li>
<li><a href="/documentation/latest/DoodleMenu.html">Doodle</a></li>
<li><a href="/documentation/latest/MapMenu.html">Map</a></li>
<li><a href="/documentation/latest/ExamplesMenu.html">Examples</a></li>
<li><a href="/documentation/latest/ManualsMenu.html">Manuals</a></li>
<li><a href="/documentation/latest/HelpMenu.html">Help</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#geobugs">GeoBUGS</a>
<ul class="collapse show" id="geobugs">
<li><a href="/documentation/latest/spatial/Manual.html">Introduction</a></li>
<li>Importing/exporting maps</li>
<li><a href="/documentation/latest/spatial/AdjacencyMatrices.html">Adjacency matrices</a></li>
<li><a href="/documentation/latest/spatial/Maps.html">Creating maps</a></li>
<li><a href="/documentation/latest/spatial/SpatialDistributions.html">Spatial distributions</a></li>
<li><a href="/documentation/latest/spatial/TemporalDistributions.html">Temporal distributions</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#reliability">ReliaBUGS</a>
<ul class="collapse" id="reliability">
<li><a href="/documentation/latest/reliability/Contents.html">Introduction</a></li>
<li><a href="/documentation/latest/reliability/Analysis.html">Basics</a></li>
<li><a href="/documentation/latest/reliability/Distributions.html">Distributions</a></li>
<li><a href="/documentation/latest/reliability/Functions.html">Logical functions</a></li>
<li><a href="/documentation/latest/reliability/References.html">References</a></li>
</ul>
</li>
<li class="nav-item"><a aria-expanded="true" class="dropdown-toggle nav-link" data-toggle="collapse" href="#developer">Developer</a>
<ul class="collapse" id="developer">
<li><a href="/documentation/latest/developer/Manual.html">Contents</a></li>
<li><a href="/documentation/latest/developer/Tools.html">Setting up the development tools</a></li>
<li><a href="/documentation/latest/developer/Compiling.html">Compiling the Source Code</a></li>
<li><a href="/documentation/latest/developer/Initializing.html">Initializing OpenBUGS</a></li>
<li><a href="/documentation/latest/developer/WritingBUGSExtensions.html">Writing OpenBUGS extensions</a></li>
<li><a href="/documentation/latest/developer/SamplingAlgorithms.html">Sampling algorithms</a></li>
<li><a href="/documentation/latest/developer/BlueDiamonds.html">Blue diamonds</a></li>
<li><a href="/documentation/latest/developer/SoftDocu.html">Bugs subsystems</a></li>
<li><a href="/documentation/latest/developer/Distributing.html">Distributing OpenBUGS</a></li>
</ul>
</li>
<!--<li><a href="/documentation/latest/References.html">References</a>-->
</ul>
</div>
</div></div><div class="col-12 col-md-9 col-lg-7 col-xl-6">


<p>
<h4>Import/exporting maps</h4><font color="#FF0000" face="Arial" size="2"><br/>         <img alt="[importexport1]" src="importexport1.bmp"/><br/></font><h5 id="Splus">Importing Splus format</h5><br/><code>      map:3<br/>      Xscale: 1000<br/>      Yscale: 1000<br/><br/>      1 area1<br/>      2 area2<br/>      3 area3<br/><br/>      area1 0 2<br/>      area1 1 2<br/>      area1 1 3<br/>      area1 0 3<br/>      NA NA NA<br/>      area1 2 1<br/>      area1 4 1<br/>      area1 4 3<br/>      area1 2 3<br/>      NA NA NA<br/>      area2 0 0<br/>      area2 2 0<br/>      area2 2 1<br/>      area2 0 1<br/>      NA NA NA<br/>      area3 2 0<br/>      area3 3 0<br/>      area3 3 1<br/>      area3 2 1<br/>      END</code>The Splus import file is in three parts:<br/><br/>The first line contains the key word '<code>map</code>' (lower case) followed by a colon and an integer, <code>N</code>, where <code>N</code> is the number of distinct areas in the map (note that one area can consist of more than one polygon). <a id="xscale">The 2nd and 3rd lines are</a><a id="xscale"><em>optional</em>, and can be used to specify the units for the map scale. By default, GeoBUGS assumes that the polygon coordinates are measured in metres. If the coordinates are measured in kilometres, say, then specify <code>Xscale</code> and <code>Yscale</code> to be 1000. GeoBUGS will then multiply all polygon co-ordinates by <code>Xscale</code> and <code>Yscale</code> as appropriate before storing the map file. If <code>Xscale</code> and <code>Yscale</code> are not specified, then the default units (metres) are assumed.</a><br/><br/>The next part of the import file is a 2 column list giving:<br/><br/>(column 1) the numeric ID of the area - this must be a unique integer between 1 and N; the areas should be labelled in the same order as the corresponding data for that area appears in the model.<br/>(column 2) the area label - this must start with a character, and can be a maximum of 79 alphanumeric characters (no spaces allowed)<br/><br/>The final part of the import file is a 3 column list giving the co-ordinates of the polygons. The format is:<br/><br/>(col 1) the label of the area to which the polygon belongs<br/>(col 2) x-coordinate<br/>(col 3) y-xoordinate<br/><br/>The polygon coordinates can be listed either clockwise or anticlockwise. Polygons should be separated by a row of NA's<br/><br/>The import file should end with the key word: <code>END</code><br/><br/>Note: Brad Carlin has a link on his web page to an Splus program called poly.S to extract polygons for any state in the United States in the appropriate format for loading into GeoBUGS (http://www.biostat.umn.edu/~brad/software.html)<br/><h5 id="ArcInfo">Importing ArcInfo format</h5><br/><code>      map:3<br/>      Xscale: 1000<br/>      Yscale: 1000<br/><br/>      1 area1<br/>      2 area2<br/>      3 area3<br/><br/>      regions<br/>      99 area1<br/>      103 area1<br/>      210 area2<br/>      211 area3<br/>      END<br/><br/>      99 0 0<br/>      0 2<br/>      1 2<br/>      1 3<br/>      0 3<br/>      END<br/>      103 0 0<br/>      2 1<br/>      4 1<br/>      4 3<br/>      2 3<br/>      END<br/>      210 0 0 <br/>      0 0<br/>      2 0<br/>      2 1<br/>      0 1<br/>      END<br/>      211 0 0 <br/>      2 0<br/>      3 0<br/>      3 1<br/>      2 1<br/>      END<br/>      END<br/></code>The ArcInfo import file is in four parts:<br/><br/>The first 2 parts are the same as the Splus format. <br/><br/>The third part begins with a line containing the key word '<code>regions</code>' (lower case). Below this is a 2 column list giving:<br/><br/>(column 1) an integer label corresponding to the integer label for one of the polygons listed in the final part of the import file. Each polygon should have a unique integer label, but this can be arbitrary (i.e. labels don't need to start at 1 or be consecutive). If using the ArcInfo command UNGENERATE to export a set of polygons, this is the integer label that ArcInfo automatically attaches to each polygon.<br/>(column 2) the area label to which the polygon with that integer ID belongs. Note, if an area contains more than one polygon, then each polygon ID should be listed on a separate line and given the same area label (e.g., area1 in the above example).<br/><br/>There should be as many rows in this part of the file as there are polygons. This will be equal to or greater than the number of distinct areas in the map.<br/><br/>The final part of the import file gives the co-ordinates of the polygons. The format for each polygon is:<br/><br/>(row 1, column 1) the integer ID for the polygon (this should correspond to one of the integer IDs listed in the previous part of the import file).<br/>(row 1, columns 2 and 3) if the polygon file has been exported directly from ArcInfo, these 2 numbers usually give the centroid of the polygon. However, they are not used by GeoBUGS, so can be arbitrary.<br/>Subsequent rows contain a 2-column list of numbers giving the x- and y-coordinates of the poly. The polygon coordinates can be listed either clockwise or anticlockwise. <br/><br/>Polygons should be separated by a line containing the key word <code>END</code>.<br/><br/>The final row of the import file should also contain the key word <code>END</code>.<h5 id="Epimap">Importing Epimap format</h5><br/><code>      map:3<br/>      Xscale: 1000<br/>      Yscale: 1000<br/><br/>      1 area1<br/>      2 area2<br/>      3 area3<br/><br/>      area1, 4<br/>      0, 2<br/>      1, 2<br/>      1, 3<br/>      0, 3<br/>      area1, 4<br/>      2, 1<br/>      4, 1<br/>      4, 3<br/>      2, 3<br/>      area2, 4 <br/>      0, 0<br/>      2, 0<br/>      2, 1<br/>      0, 1<br/>      area3, 4 <br/>      2, 0<br/>      3, 0<br/>      3, 1<br/>      2, 1<br/>      END<br/></code>The Epimap import file is in three parts:<br/><br/>The first 2 parts are the same as the Splus format. <br/><br/>The third gives the polygon co-ordinates. The format for each polygon is:<br/><br/>(row 1, column 1) the label of the area to which the polygon belongs.<br/>(row 1, column 2) the number of vertices in the polygon (note the comma separator)<br/>Subsequent rows contain a 2-column list of numbers giving the x- and y-coordinates of the poly, separated by a comma. The polygon coordinates can be listed either clockwise or anticlockwise.<br/><br/>The final row of the import file should contain the key word <code>END</code>.<br/><br/><br/><h5 id="ArcView">Importing Arcview format</h5><br/>GeoBUGS does not have an option for loading ArcView shape files directly. However, Ms Yue Cui at the University of Minnesota has written programs in Splus and R for converting shape files into the GeoBUGS Splus format so that they can be loaded in GeoBUGS (http://www.biostat.umn.edu/~yuecui/). <h5 id="Load">Loading a poloygon file</h5><br/>Open the polygon file as a separate text file in OpenBUGS and select the appropriate import option from the <span class="button">Map</span> menu. (To try loading the example map files above, first copy them to a separate file, and focus the window containing this file). If the map has been loaded correctly, a <span class="button">Save As</span> dialog box will appear, prompting you to enter a name for the map file. By default, the map file will be saved in the Maps/Rsrc subdirectory of your OpenBUGS program, with a <code>.map</code> extension. You can view this map by selecting <span class="button">Open</span> from the <span class="button">File</span> menu (go to the Maps/Rsrc subdirectory and select file type: map file (<code>*.map</code>). You will need to exit OpenBUGS and re-start before the new map will appear on the pull-down list of avaialble maps in the <span class="window_title">Map Tool</span> and <span class="window_title">Adjacency Tool</span> of the <span class="button">Map</span> menu. <br/><h5 id="Export">Exporting maps to Splus format</h5><br/>Focus the window containing the map in GeoBUGS and select <span class="button">Export Splus</span> from the <span class="button">Map</span> menu. This will write the map in Splus format to a new window. This command can be used to obtain the list of area IDs and the order in which they are specified in the GeoBUGS map (see top part of export file).<br/>

</p>


</div><div class="d-none d-lg-block col-lg-3 col-xl-3" id="onthispage"><div class="sticky-top stickymenu"><h5>On this page</h5><ul><li><a href="#Splus">Importing Splus format</a></li><li><a href="#ArcInfo">Importing Arcinfo format</a></li><li><a href="#Epimap">Importing Epimap format</a></li><li><a href="#ArcView">Importing ArcView format</a></li><li><a href="#Load">Loading a polygon file</a></li><li><a href="#Export">Exporting maps to Splus format</a></li><li><a href="#Splus">Splus</a></li><li><a href="#ArcInfo">ArcInfo</a></li><li><a href="#Epimap">Epimap</a></li><li><a href="#ArcView">ArcView</a></li><li><a href="#ArcView"><font color="#0000FF" face="Arial" size="3"><u></u></font></a></li></ul></div></div></div></div></body></html>